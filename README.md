# HFD4
Репозиторий на хакатон HackForData 4

### Команда iTree - Владивосток

- Алексей Федорищев (https://www.facebook.com/silencemagic)

### Суть BI

Данная BI является инструментом для быстрого поиска вопросов и ответов в загруженных группах Facebook (на данный момент неактуальный инструмент, так как выгрузить данные групп из Facebook сейчас уже нельзя).
В качестве данных были взяты выгрузки из двух групп в рамках задания хакатона.

#### Механизм действия
В поисковую строчку вписываем искомую фразу (лемматизации нет, ищется строгое вхождение подстроки).
Число справа от строки отобразит количество найденных постов.
В списке ниже появятся посты осортированные в порядке приоритета поста.
Для каждого поста также отобразится его категория, ссылка на Facebook, где можно посмотреть на пост в оригинале, лучший ответ и приоритет поста (нужен только в отладочных целях для наглядности).
При нажатии на пост, можно также увидеть список всех комментариев на него в списке справа, отсортированных по приоритету.

#### Приоритет сортировки постов
Приоритет формируется по следующей логике:
Приоритет = Ценность категории + ценность реакции - срок давности

Пример:
Ценность категории = 10000
Ценность реакции = 170 (17 лайков * 10)
Срок давности = 20 (200 дней назад / 10)
Приоритет = 10000 + 170 - 20 = 10150

#### Приоритет сортировки комментариев
Приоритет формируется по следующей логике:
Приоритет = Количество реакций + 10 * реакцию автора поста

Предполагается, что если автор лайкнет комментарий на свой пост, то этот комментарий с большей вероятностью может являться ответов на вопрос, если, конечно, пост является вопросом.


#### Ценности категорий
Инструмент в первую очередь направлен на поиск ответов на вопросы в рамках группы, поэтому категория постов-вопросов имеент наивысший приоритет и при текущей логике начисления приоритета, все вопросы должны быть выше других постов.

#### Категоризация
Все категории были определены посредством Power Query с помощью словаря, точность не самая высокая и предполагается, что если нужна более высокая точность, нужно совершенствовать словарь (а также использовать иной подход в применении данного словаря).
Цели получить высокую точность не стояла, так как инструмент является прототипом и разрабатывался в рамках хакатона.


##### PS: уже после хакатона добавил возможность выбора группы Facebook, просто потому что это было несложно сделать в рамках моей модели, а кто-то из экспертов посчитал это важным. Для справедливости можно считать, что этой возможности нет.

##### PS2: найденная и непофиксинная проблема - по неведомой мне причине, в таблице с постами лучший ответ не всегда лучший. Вероятно, это возникает по причине того, что на уровне Power Query сортировка отрабатывает только для первых N записей и после отсева дубликатов выживает первый, который не всегда лучший. Это предположение, надо разбираться, но проблема на мой взгляд интересная и я попробую с ней разобраться, когда найдется время, тогда поправлю и здесь.
